script:registerListener("org.bukkit.event.player.PlayerCommandPreprocessEvent", function (event)
    ---@cast event org.bukkit.event.player.PlayerCommandPreprocessEvent
    local command = event:getMessage()
    local cleanCommand, replacements = command:gsub("%%.-%%", "") -- Remove all PlaceholderAPI placeholders
    if replacements > 0 then
        event:setMessage(cleanCommand)
        print("Prevented Placeholder parsing for command: " .. command .. " replaced with: " .. cleanCommand)
    end
end)
